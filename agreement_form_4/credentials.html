<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Nhập khảo sát</title>
<link rel="stylesheet" href="./css/styles.css">
</head>

<body>

<div class="container">
<h2>Nhập thông tin khảo sát</h2>

<!-- Hàng 1 -->
<div class="row">
    <div class="col">
        <label>Người nhập</label>
        <input id="NguoiNhap">
    </div>
    <div class="col">
        <label>Ngày khảo sát</label>
        <input type="date" id="NgayKS">
    </div>
</div>

<!-- Hàng 2 -->
<div class="row">
    <div class="col">
        <label>Người khảo sát</label>
        <input id="NguoiKS">
    </div>
    <div class="col">
        <label>Người được khảo sát</label>
        <input id="NguoiDcKS">
    </div>
</div>

<!-- Hàng 3 -->
<div class="row">
    <div class="col">
        <label>Giới tính</label>
        <select id="GioiTinh">
            <option value="">-- Chọn --</option>
            <option>Nam</option>
            <option>Nữ</option>
        </select>
    </div>
    <div class="col">
        <label>Tuổi</label>
        <input id="Tuoi">
    </div>
</div>

<!-- Hàng 4 -->
<div class="row">
    <div class="col">
        <label>Trình độ</label>
        <input id="TrinhDo">
    </div>
    <div class="col">
        <label>Thâm niên</label>
        <input id="ThamNien">
    </div>
</div>

<!-- Hàng 5 -->
<div class="row">
    <div class="col">
        <label>Cơ quan</label>
        <input id="CoQuan">
    </div>
    <div class="col">
        <label>Vị trí công tác</label>
        <input id="ViTriCongTac">
    </div>
</div>

<!-- Hàng 6 -->
<div class="row">
    <div class="col">
        <label>Tên doanh nghiệp</label>
        <input id="TenDoanhNghiep">
    </div>
    <div class="col">
        <label>Loại hình</label>
        <input id="LoaiHinh">
    </div>
</div>

<!-- Hàng 7 -->
<div class="row">
    <div class="col">
        <label>Lĩnh vực</label>
        <input id="LinhVuc">
    </div>
    <div class="col">
        <label>Lựa chọn / Ghi chú</label>
        <textarea id="LuaChon"></textarea>
    </div>
</div>

<button onclick="submitData()">Gửi khảo sát</button>

<div id="result" class="msg"></div>
</div>

<script>
// const API_URL = "http://localhost:50590/api/database/insert4"; 
const API_URL = "http://cara.isilab.click/api/database/insert4"; 


function submitData() {
    const data = {
        NguoiNhap: NguoiNhap.value,
        NgayKS: NgayKS.value,
        NguoiKS: NguoiKS.value,
        NguoiDcKS: NguoiDcKS.value,
        GioiTinh: GioiTinh.value,
        Tuoi: Tuoi.value,
        TrinhDo: TrinhDo.value,
        CoQuan: CoQuan.value,
        ViTriCongTac: ViTriCongTac.value,
        ThamNien: ThamNien.value,
        TenDoanhNghiep: TenDoanhNghiep.value,
        LoaiHinh: LoaiHinh.value,
        LinhVuc: LinhVuc.value,
        LuaChon: LuaChon.value
    };

    fetch(API_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
    })
    .then(res => {
        if (!res.ok) throw new Error("HTTP " + res.status);
        return res.json();
    })
    .then(() => {
        result.innerHTML = "✔ Gửi dữ liệu thành công";
        result.style.color = "green";
    })
    .catch(err => {
        result.innerHTML = "❌ Lỗi: " + err.message;
        result.style.color = "red";
    });
}
</script>

</body>
</html>
